<!DOCTYPE html>
<html>
<head>
<style>
table, th, td {
  border: 1px solid black;
}
</style>
<title>Authority points tracking system</title>
</head>
<body>
<script>
let arrayPlayers = [];

function modifyAuthPointByOne(index, isAddition, num){

	if(isAddition){
		arrayPlayers[index].authorityPoints+= num;
	}else{
		arrayPlayers[index].authorityPoints-= num;
	}
	
	document.getElementById("p" + index).innerHTML = arrayPlayers[index].authorityPoints;
}

function resetGame(){

	var r = confirm("you want to lose progress?");
	  if (r == true) {
		arrayPlayers = [];
		document.getElementById('wrapper').innerHTML = "";
		document.getElementById("message").innerHTML = "";
	  }	
}

function createTable(){

	var theader = '<table border="1"><tr><th>Player</th><th>Authority Points</th><th>Action</th></tr>\n';
	var tbody = '';
	
	for (var i=0; i<arrayPlayers.length; i++) {
	
			tbody += '<tr>';
		
			//Col1: Name
			tbody += '<td>';
			tbody += arrayPlayers[i].playerName;
			tbody += '</td>'
			
			//Col2:Authority Points
			tbody += '<td>';
			tbody += '<p id="p' + i + '">';			
			tbody += '</td>'
			
			//Col3: Actions
			tbody += '<td>';
			tbody += '<button type="button" onclick="modifyAuthPointByOne(' + i + ', false, 10);">-10</button><button type="button" onclick="modifyAuthPointByOne(' + i + ', false, 5);">-5</button><button type="button" onclick="modifyAuthPointByOne(' + i + ', false, 1);">-1</button> / <button type="button" onclick="modifyAuthPointByOne(' + i + ', true, 1);">+1</button><button type="button" onclick="modifyAuthPointByOne(' + i + ', true, 5);">+5</button><button type="button" onclick="modifyAuthPointByOne(' + i + ', true, 10);">+10</button>';
			tbody += '</td>'
			

		tbody += '</tr>\n';
		//alert(arrayPlayers[i].playerName + arrayPlayers[i].authorityPoints);
	} 
	
	var tfooter = '</table>';
	document.getElementById('wrapper').innerHTML = theader + tbody + tfooter;
	for (var i=0; i<arrayPlayers.length; i++) {
		document.getElementById("p" + i).innerHTML = arrayPlayers[i].authorityPoints;
	}
	document.getElementById("message").innerHTML = "Game on!";
}

function addPlayer(){
	if(document.getElementById("txtPlayerName").value.trim() == ''){
		document.getElementById("message").innerHTML = "Please, write the nickname of the player!";
	}else{
		var player = {playerName:document.getElementById("txtPlayerName").value, authorityPoints:50};
		document.getElementById("txtPlayerName").value = "";	
		arrayPlayers.push(player);
		createTable();
	}
}
</script>

<h1>Authority points tracking system</h1>
<h2>Players Settings</h2>
Player Name <input type="text" id="txtPlayerName" value=""/><button type="button" onclick="addPlayer()">add new player</button>

<h2>Players in Battle!</h2>
<div id="wrapper"></div>
<p style="color:red;" id="message"></p>
<button type="button" onclick="resetGame()">Reset Game</button>
</body>
</html>