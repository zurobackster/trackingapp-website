<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Anton">
<style>
table, th, td {
  border: 1px solid black;
  margin-left: 0px;
}
.container {
  position: relative;
  text-align: center;
  float:left;
  display:inline-block;
  
}
.authoritystyle {
  position: absolute;
  top: 45%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 40px;
  font-family: 'Anton', sans-serif;
}
.attackstyle {
  position: absolute;
  top: 44%;
  left: 50%;
  transform: translate(-50%, -50%);
}
a:link, a:visited, a:active {
  color: white;
  text-decoration: none;
  font-family: 'Anton', sans-serif;
  font-size: 35px;
}
</style>
<title>Star Realms Authority Points Tracker</title>
</head>
<body>
<script>
let arrayPlayers = [];

function modifyAuthPointByOne(index, isAddition, num){

	if(isAddition){
		arrayPlayers[index].authorityPoints+= num;
	}else{
		arrayPlayers[index].authorityPoints-= num;
	}
	
	document.getElementById("p" + index).innerHTML = arrayPlayers[index].authorityPoints;
}

function resetGame(){

	var r = confirm("you want to lose progress?");
	  if (r == true) {
		arrayPlayers = [];
		document.getElementById('wrapper').innerHTML = "";
		document.getElementById("message").innerHTML = "";
	  }	
}

function createTable(){

	var theader = '<table><tr><th>Player</th><th>Authority Points</th><th>Action</th></tr>\n';
	var tbody = '';
	
	for (var i=0; i<arrayPlayers.length; i++) {
	
			tbody += '<tr>';
		
			//Col1: Name
			tbody += '<td>';
			tbody += arrayPlayers[i].playerName;
			tbody += '</td>'
			
			//Col2:Authority Points
			tbody += '<td>';
			tbody += '<div class="container"><img src="images/authority.jpg" alt="Snow"><div id="p' + i + '" class="authoritystyle"/></div>';		
			tbody += '</td>'
			
			//Col3: Actions
			tbody += '<td>';

			//-10
			tbody += '<div class="container"><a href="#" onclick="modifyAuthPointByOne(' + i + ', false, 10)"><img style="width: 60%" src="images/combat.jpg"/></a><a href="#" class="attackstyle" onclick="modifyAuthPointByOne(' + i + ', false, 10)">-10</a></div>';
			
			//-5
			tbody += '<div class="container"><a href="#" onclick="modifyAuthPointByOne(' + i + ', false, 5)"><img style="width: 60%" src="images/combat.jpg"/></a><a href="#" class="attackstyle" onclick="modifyAuthPointByOne(' + i + ', false, 5)">-5</a></div>';
			
			//-1
			tbody += '<div class="container"><a href="#" onclick="modifyAuthPointByOne(' + i + ', false, 1)"><img style="width: 60%" src="images/combat.jpg"/></a><a href="#" class="attackstyle" onclick="modifyAuthPointByOne(' + i + ', false, 1)">-1</a></div>';
			
			//+1
			tbody += '<div class="container"><a href="#" onclick="modifyAuthPointByOne(' + i + ', true, 1)"><img style="width: 60%" src="images/combat.jpg"/></a><a href="#" class="attackstyle" onclick="modifyAuthPointByOne(' + i + ', true, 1)">+1</a></div>';
			
			//+5
			tbody += '<div class="container"><a href="#" onclick="modifyAuthPointByOne(' + i + ', true, 5)"><img style="width: 60%" src="images/combat.jpg"/></a><a href="#" class="attackstyle" onclick="modifyAuthPointByOne(' + i + ', true, 5)">+5</a></div>';
						
			//+10
			tbody += '<div class="container"><a href="#" onclick="modifyAuthPointByOne(' + i + ', true, 10)"><img style="width: 60%" src="images/combat.jpg"/></a><a href="#" class="attackstyle" onclick="modifyAuthPointByOne(' + i + ', true, 10)">+10</a></div>';
						
			tbody += '</td>';
			

		tbody += '</tr>\n';
		//alert(arrayPlayers[i].playerName + arrayPlayers[i].authorityPoints);
	} 
	
	var tfooter = '</table>';
	document.getElementById('wrapper').innerHTML = theader + tbody + tfooter;
	for (var i=0; i<arrayPlayers.length; i++) {
		document.getElementById("p" + i).innerHTML = arrayPlayers[i].authorityPoints;
	}
	document.getElementById("message").innerHTML = "Game on!";
}

function addPlayer(){
	if(document.getElementById("txtPlayerName").value.trim() == ''){
		document.getElementById("message").innerHTML = "Please, write the nickname of the player!";
	}else{
		var player = {playerName:document.getElementById("txtPlayerName").value, authorityPoints:50};
		document.getElementById("txtPlayerName").value = "";	
		arrayPlayers.push(player);
		createTable();
	}
}
</script>

<h1>Star Realms Authority Points Tracker</h1>
<h2>Players Settings</h2>

Player Name <input type="text" id="txtPlayerName" value=""/><button type="button" onclick="addPlayer()">add new player</button>
<h2>Players in Battle!</h2>
<div id="wrapper"></div>
<p style="color:red;" id="message"></p>
<button type="button" onclick="resetGame()">Reset Game</button>

</body>
</html>